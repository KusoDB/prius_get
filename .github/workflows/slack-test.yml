  name: Slack Test

  on:
    workflow_dispatch:

  jobs:
    test-slack:
      runs-on: ubuntu-latest
      steps:
      - name: Check Slack Webhook URL
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          if [ -z "$SLACK_WEBHOOK_URL" ]; then
            echo "âŒ SLACK_WEBHOOK_URL is not set in GitHub Secrets"
            echo "Please add it in Settings â†’ Secrets and variables â†’ Actions"
            exit 1
          else
            echo "âœ… SLACK_WEBHOOK_URL is configured"
            echo "URL length: ${#SLACK_WEBHOOK_URL} characters"
          fi

      - name: Send test notification
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          echo "Sending test notification to Slack..."
          curl -X POST -H 'Content-type: application/json' \
            --data '{"text":"ğŸ§ª **GitHub Actions Slack ãƒ†ã‚¹ãƒˆæˆåŠŸï¼**\n\nâœ… 
  ãƒ—ãƒªã‚¦ã‚¹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã®é€šçŸ¥æ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ã€‚\nâ° ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚åˆ»: 
  '"$(date)"'"}' \
            $SLACK_WEBHOOK_URL

          if [ $? -eq 0 ]; then
            echo "âœ… Slack notification sent successfully!"
          else
            echo "âŒ Failed to send Slack notification"
            exit 1
          fi
